{"ast":null,"code":"import _objectSpread from\"D:/5th semester/internship (3)/Internship monitoring, 1DS23AI013, B N Sharath/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/AssignStudent.js\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./AdminUI.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const api=axios.create();api.interceptors.request.use(config=>{const token=localStorage.getItem(\"token\");if(token)config.headers.Authorization=\"Bearer \".concat(token);return config;});export default function AssignStudent(){const[students,setStudents]=useState([]);const[mentors,setMentors]=useState([]);const[selected,setSelected]=useState({studentId:\"\",mentorId:\"\"});const fetch=async()=>{try{const s=await api.get(\"/api/users?role=student\");const m=await api.get(\"/api/users?role=mentor\");setStudents(s.data);setMentors(m.data);}catch(err){console.error(err);}};useEffect(()=>{fetch();},[]);const assign=async e=>{e.preventDefault();try{await api.put(\"/api/users/\".concat(selected.studentId,\"/assign-mentor\"),{mentorId:selected.mentorId});alert(\"Assigned\");fetch();}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Error assigning\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card admin-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Assign Student to Mentor\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"admin-form\",onSubmit:assign,children:[/*#__PURE__*/_jsxs(\"select\",{required:true,value:selected.studentId,onChange:e=>setSelected(s=>_objectSpread(_objectSpread({},s),{},{studentId:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select student\"}),students.map(s=>/*#__PURE__*/_jsxs(\"option\",{value:s._id,children:[s.name,\" (\",s.email,\")\"]},s._id))]}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:selected.mentorId,onChange:e=>setSelected(s=>_objectSpread(_objectSpread({},s),{},{mentorId:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select mentor\"}),mentors.map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m._1d,children:[m.name,\" (\",m.email,\")\"]},m._id))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Assign Mentor\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current Assignments\"}),students.map(s=>{var _s$mentor;return/*#__PURE__*/_jsx(\"div\",{className:\"list-item\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:s.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"muted\",children:[\"Mentor: \",((_s$mentor=s.mentor)===null||_s$mentor===void 0?void 0:_s$mentor.name)||\"—\"]})]})},s._id);})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","api","create","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","AssignStudent","students","setStudents","mentors","setMentors","selected","setSelected","studentId","mentorId","fetch","s","get","m","data","err","console","error","assign","e","preventDefault","put","alert","_err$response","_err$response$data","response","message","className","children","onSubmit","required","value","onChange","_objectSpread","target","map","_id","name","email","_1d","type","_s$mentor","mentor"],"sources":["D:/5th semester/internship (3)/Internship monitoring, 1DS23AI013, B N Sharath/frontend/src/components/AssignStudent.js"],"sourcesContent":["// src/components/AssignStudent.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./AdminUI.css\";\r\n\r\nconst api = axios.create();\r\n\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  return config;\r\n});\r\n\r\nexport default function AssignStudent() {\r\n  const [students, setStudents] = useState([]);\r\n  const [mentors, setMentors] = useState([]);\r\n  const [selected, setSelected] = useState({ studentId: \"\", mentorId: \"\" });\r\n\r\n  const fetch = async () => {\r\n    try {\r\n      const s = await api.get(\"/api/users?role=student\");\r\n      const m = await api.get(\"/api/users?role=mentor\");\r\n      setStudents(s.data);\r\n      setMentors(m.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetch(); }, []);\r\n\r\n  const assign = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.put(`/api/users/${selected.studentId}/assign-mentor`, { mentorId: selected.mentorId });\r\n      alert(\"Assigned\");\r\n      fetch();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Error assigning\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card admin-card\">\r\n      <h3>Assign Student to Mentor</h3>\r\n\r\n      <form className=\"admin-form\" onSubmit={assign}>\r\n        <select required value={selected.studentId} onChange={(e) => setSelected(s => ({ ...s, studentId: e.target.value }))}>\r\n          <option value=\"\">Select student</option>\r\n          {students.map(s => <option key={s._id} value={s._id}>{s.name} ({s.email})</option>)}\r\n        </select>\r\n\r\n        <select required value={selected.mentorId} onChange={(e) => setSelected(s => ({ ...s, mentorId: e.target.value }))}>\r\n          <option value=\"\">Select mentor</option>\r\n          {mentors.map(m => <option key={m._id} value={m._1d}>{m.name} ({m.email})</option>)}\r\n        </select>\r\n\r\n        <button type=\"submit\">Assign Mentor</button>\r\n      </form>\r\n\r\n      <div className=\"list\">\r\n        <h4>Current Assignments</h4>\r\n        {students.map(s => (\r\n          <div key={s._id} className=\"list-item\">\r\n            <div>\r\n              <strong>{s.name}</strong>\r\n              <div className=\"muted\">Mentor: {s.mentor?.name || \"—\"}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}